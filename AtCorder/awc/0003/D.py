"""
AtCorder.awc.0003.D の Docstring
高橋君は陸上部のマネージャーとして、部員たちの練習記録を管理しています。

陸上部では N 日間の練習期間があり、各日には 1 から N までの番号が付けられています。日 i (1≤i≤N) には、その日の「練習強度」を表す正の整数 A 
i
​	
  が記録されています。

部のルールでは、日 l から日 r までの連続する r−l+1 日間からなる期間であって、その長さが K 日以上かつ期間内の練習強度の合計が目標値 M 以上であるものを「達成期間」と呼び、特別に表彰することになっています。

高橋君は、表彰対象となる達成期間がいくつあるかを調べたいと考えています。

具体的には、以下の条件をすべて満たす整数の組 (l,r) の個数を求めてください：

1≤l≤r≤N
r−l+1≥K （期間の長さが K 日以上）
A 
l
​	
 +A 
l+1
​	
 +⋯+A 
r
​	
 ≥M （期間内の練習強度の合計が M 以上）
制約
1≤N≤2×10 
5
 
1≤K≤N
1≤M≤10 
14
 
1≤A 
i
​	
 ≤10 
9
  (1≤i≤N)
入力はすべて整数
入力
Copy
N K M
A 
1
​	
  A 
2
​	
  ⋯ A 
N
​	
 
1 行目には、練習期間の日数を表す整数 N、期間の長さの最小値を表す整数 K、練習強度の合計の目標値を表す整数 M が、空白区切りで与えられる。
2 行目には、各日の練習強度を表す N 個の整数 A 
1
​	
 ,A 
2
​	
 ,…,A 
N
​	
  が、空白区切りで与えられる。
出力
条件を満たす整数の組 (l,r) の個数を 1 行で出力してください。

入力例 1
Copy
5 2 10
3 5 4 2 6
出力例 1
Copy
6
入力例 2
Copy
8 3 15
2 4 6 3 5 7 1 8
出力例 2
Copy
17
入力例 3
Copy
10 4 1000000000000
500000000 600000000 400000000 300000000 700000000 200000000 800000000 100000000 900000000 550000000
出力例 3
Copy
0
"""
import bisect
import sys
input = sys.stdin.readline

N, K, M = map(int, input().split())
A = list(map(int, input().split()))

# ① 累積和を作る
S = [0] * (N + 1)
for i in range(N):
    S[i + 1] = S[i] + A[i]

ans = 0

# ② 左端 l を固定
for l in range(1, N + 1):
    # 長さ条件：r >= l + K - 1
    min_r = l + K - 1
    if min_r > N:
        break

    # 和条件を書き換え
    target = M + S[l - 1]

    # S[r] >= target となる最小の r を探す
    r = bisect.bisect_left(S, target)

    # r は配列S上のインデックス
    # 実際の区間は r >= min_r である必要がある
    start = max(r, min_r)

    if start <= N:
        ans += N - start + 1

print(ans)
