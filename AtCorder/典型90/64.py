"""
AtCorder.典型90.64 の Docstring
は N 個の区画に分けられており、西から i 番目の区画（以下、区画 i とする）の標高は A 
i
​	
  です。

これから Q 回の地殻変動が起こります。i 回目の地殻変動では、区画 L 
i
​	
 ,L 
i
​	
 +1,⋯,R 
i
​	
  の標高が V 
i
​	
  だけ変化します。（V 
i
​	
 ≥0 のとき標高が ∣V 
i
​	
 ∣ 上がり、V 
i
​	
 <0 のとき標高が ∣V 
i
​	
 ∣ 下がることを意味します）

さて、区画 1 から N へ行く際の不便さは次のように定義されます。

区画 i の標高を E 
i
​	
  とするとき、不便さは ∣E 
1
​	
 −E 
2
​	
 ∣+∣E 
2
​	
 −E 
3
​	
 ∣+⋯+∣E 
N−1
​	
 −E 
N
​	
 ∣
各地殻変動後の不便さをそれぞれ求めてください。

制約
1≤N,Q≤10 
5
 
−10 
9
 ≤A 
i
​	
 ,V 
i
​	
 ≤10 
9
 
1≤L 
i
​	
 ≤R 
i
​	
 ≤N
入力は全て整数
入力
入力は以下の形式で標準入力から与えられます。

N Q
A 
1
​	
  A 
2
​	
  ⋯ A 
N
​	
 
L 
1
​	
  R 
1
​	
  V 
1
​	
 
L 
2
​	
  R 
2
​	
  V 
2
​	
 
⋮
L 
Q
​	
  R 
Q
​	
  V 
Q
​	
 
出力
Q 行出力してください。
i 行目には、i 番目の地殻変動が終わった後の不便さを出力してください。

入力例 1
Copy
3 3
1 2 3
2 3 1
1 2 -1
1 3 2
出力例 1
Copy
3
4
4
1 回目の地殻変動後の各区画の標高は、西から順に 1,3,4 であり、不便さは ∣1−3∣+∣3−4∣=3 です。
2 回目の地殻変動後の各区画の標高は、西から順に 0,2,4 であり、不便さは ∣0−2∣+∣2−4∣=4 です。
3 回目の地殻変動後の各区画の標高は、西から順に 2,4,6 であり、不便さは ∣2−4∣+∣4−6∣=4 です。

入力例 2
Copy
20 10
61 51 92 -100 -89 -65 -89 -64 -74 7 87 -2 51 -39 -50 63 -23 36 74 37
2 2 -45
6 19 82
2 9 36
7 13 71
16 20 90
18 20 -24
14 17 -78
10 11 -55
7 19 -26
20 20 -7
出力例 2
Copy
1164
1328
1256
1350
1440
1416
1572
1482
1430
1437
"""
import sys
input = sys.stdin.readline

N, Q = map(int, input().split())
A = list(map(int, input().split()))

# 差分配列 D[i] = A[i+1] - A[i]
D = [A[i+1] - A[i] for i in range(N-1)]

# 初期の不便さ
ans = sum(abs(d) for d in D)

for _ in range(Q):
    L, R, V = map(int, input().split())
    L -= 1  # 0-index に変換
    R -= 1

    # 左境界（L > 0 のときだけ影響）
    if L > 0:
        ans -= abs(D[L-1])   # いったん古い値を引く
        D[L-1] += V         # 更新
        ans += abs(D[L-1])  # 新しい値を足す

    # 右境界（R < N-1 のときだけ影響）
    if R < N-1:
        ans -= abs(D[R])    # 古い値を引く
        D[R] -= V          # 更新（ここが -V になる）
        ans += abs(D[R])   # 新しい値を足す

    print(ans)
